<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathe Adventskalender Klasse 5</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&family=Patrick+Hand&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Farben: Tafel-Gr√ºn, Kreide-Wei√ü, Weihnachts-Rot, Gold */
            --bg-primary: #2F4F4F;      /* Dunkles Schiefergrau/Gr√ºn (Tafel) */
            --bg-secondary: #243d3d;    /* Etwas dunkler f√ºr Muster */
            
            --door-bg: #E74C3C;         /* Ein sch√∂nes, mattes Weihnachtsrot */
            --door-hover: #C0392B;      /* Dunkleres Rot beim Dr√ºberfahren */
            
            --accent-color: #F1C40F;    /* Gold/Gelb f√ºr Sterne und Wichtiges */
            --text-primary: #FFFFFF;    /* Wei√ü wie Kreide */
            --text-secondary: #D1D5DB;  /* Leichtes Grau */
            
            /* Verspielte, kindgerechte Fonts */
            --font-heading: 'Fredoka', sans-serif;  
            --font-body: 'Patrick Hand', cursive;    
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: var(--font-body);
            margin: 0;
            padding: 20px;
            
            /* Karopapier-Muster im Hintergrund (Mathe-Heft Feeling!) */
            background-image: 
                linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
            background-size: 30px 30px; /* Gr√∂√üe der K√§stchen */
            background-attachment: fixed;
            min-height: 100vh;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-top: 20px;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
        }

        .logo-icon {
            font-size: 4em;
            margin-bottom: 5px;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
            animation: float 3s ease-in-out infinite;
            cursor: default;
        }

        /* Kleine schwebende Animation f√ºr das Logo */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        h1 {
            font-family: var(--font-heading);
            color: var(--text-primary);
            font-size: 3em;
            margin: 0;
            letter-spacing: 1px;
            line-height: 1.2;
        }

        h1 span {
            color: var(--door-bg); /* Das Wort 'Mathe' in Rot hervorheben */
        }

        .subtitle {
            font-family: var(--font-body);
            font-size: 1.5em;
            color: var(--accent-color);
            margin-top: 10px;
            font-weight: bold;
        }

        #calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
            gap: 25px;
            max-width: 1100px;
            margin: 0 auto 60px auto;
        }

        .advent-door {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 130px;
            
            /* Design wie ein Geschenk / Spielkarte */
            background-color: var(--door-bg);
            border: 4px solid #fff; /* Dicker wei√üer Rand */
            border-radius: 20px;    /* Runde Ecken */
            
            color: #fff;
            font-size: 3em;
            font-family: var(--font-heading);
            font-weight: 600;
            
            text-decoration: none;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* "Bouncy" Effekt */
            box-shadow: 0 8px 0 rgba(0,0,0,0.2); /* 3D-Effekt nach unten */
            cursor: not-allowed;
            opacity: 0.6;
            position: relative;
            overflow: hidden;
            
            /* Textschatten */
            text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
            user-select: none;
        }

        /* Schloss-Icon */
        .advent-door.locked::before {
            content: "üîí";
            font-size: 0.4em;
            position: absolute;
            top: 10px; right: 10px;
            opacity: 0.8;
        }

        /* Dekoration: Kleine Kreise im Hintergrund der Karte */
        .advent-door::after {
            content: "";
            position: absolute;
            width: 150%; height: 150%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 10%, transparent 10%);
            background-size: 20px 20px;
            opacity: 0.3;
            pointer-events: none;
        }

        .advent-door.active {
            background-color: var(--door-bg); 
            cursor: pointer;
            opacity: 1;
            border-color: #fff;
        }

        .advent-door.active:hover {
            transform: translateY(-8px) scale(1.02); /* H√ºpft nach oben */
            background-color: var(--door-hover);
            box-shadow: 0 15px 0 rgba(0,0,0,0.15); /* Schatten w√§chst */
        }

        .advent-door.active:active {
            transform: translateY(4px); /* Beim Klicken eindr√ºcken */
            box-shadow: 0 2px 0 rgba(0,0,0,0.2);
        }

        /* MODAL / POPUP DESIGN */
        #riddle-modal {
            display: none; 
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(47, 79, 79, 0.95); /* Hintergrund dunkelgr√ºn */
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: #fff; /* Wei√ües Papier */
            color: #333;      /* Dunkle Schrift */
            border: 8px solid var(--accent-color); /* Goldener Rahmen */
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh; 
            overflow-y: auto;
            text-align: center;
            position: relative;
            border-radius: 30px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            
            /* Karopapier im Modal-Hintergrund leicht angedeutet */
            background-image: 
                linear-gradient(#e0e0e0 1px, transparent 1px),
                linear-gradient(90deg, #e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        h2#modal-title {
            color: var(--door-bg);
            font-family: var(--font-heading);
            font-size: 2.2em;
            margin-top: 0;
            text-transform: none; 
            border-bottom: 3px dashed var(--accent-color);
            padding-bottom: 15px;
        }

        .riddle-img {
            width: 100%; height: auto; max-height: 250px;
            object-fit: contain; 
            margin: 10px 0;
            display: none; 
            border-radius: 15px;
        }
        .riddle-img[src^="images/"] { display: block; }

        #modal-text {
            font-size: 1.5em;
            font-family: var(--font-body); /* Handschrift */
            margin: 20px 0;
            line-height: 1.4;
            color: #2c3e50;
        }

        #modal-result {
            margin-top: 25px; padding-top: 20px; 
            border-top: 3px dashed #ccc;
            background: rgba(255, 248, 220, 0.5); /* Leicht gelblich hinterlegt */
            border-radius: 15px;
            padding: 20px;
        }

        #modal-answer {
            color: var(--bg-primary);
            font-family: var(--font-heading);
            font-size: 1.8em; font-weight: 800;
            margin-bottom: 10px;
        }

        #modal-explanation {
            font-family: var(--font-body);
            font-size: 1.3em;
            text-align: left;
            color: #555;
            background: none;
            padding: 0;
            border: none;
        }

        button {
            background-color: var(--accent-color);
            border: none;
            border-bottom: 5px solid #d4ac0d; /* 3D Effekt */
            color: #fff;
            padding: 15px 40px;
            font-family: var(--font-heading);
            font-size: 1.3em; cursor: pointer;
            margin-top: 20px; transition: all 0.1s;
            font-weight: 700;
            border-radius: 50px;
            text-shadow: 1px 1px 0 rgba(0,0,0,0.2);
        }

        button:hover {
            transform: translateY(2px);
            border-bottom: 2px solid #d4ac0d;
        }

        .close-btn {
            position: absolute; top: 15px; right: 25px;
            color: #aaa; font-size: 40px;
            cursor: pointer; line-height: 0.8;
            transition: 0.2s;
            font-family: var(--font-heading);
            font-weight: bold;
        }
        .close-btn:hover { color: var(--door-bg); transform: scale(1.1); }

        @media (max-width: 600px) {
            #calendar-grid { grid-template-columns: repeat(3, 1fr); gap: 15px; }
            .advent-door { height: 100px; font-size: 2em; border-width: 3px;}
            h1 { font-size: 2em; }
            .modal-content { padding: 20px; width: 85%; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo-icon">üìê ‚ú® ‚ûï</div>
        <h1><span>Mathe</span> Adventskalender</h1>
        <div class="subtitle">Gymnasium Klasse 5 - NRW Edition</div>
    </header>

    <div id="calendar-grid">
        </div>

    <div id="riddle-modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-title">Titel</h2>
            
            <img id="modal-img" class="riddle-img" src="" alt=""> 
            
            <p id="modal-text">Hier steht das R√§tsel...</p>
            
            <button id="reveal-btn">L√∂sung anzeigen</button>
            
            <div id="modal-result" style="display:none;">
                <div id="modal-answer">L√∂sung</div>
                <div id="modal-explanation">Erkl√§rung</div>
            </div>
        </div>
    </div>

    <script>
        // --- TEIL 1: DIE DATEN ---
        // Inhalte angepasst f√ºr Mathe Klasse 5 (NRW)
        const calendarData = [
            {
                day: 1,
                type: "R√§tsel",
                title: "Der Zahlen-Detektiv",
                text: "Ich bin eine gerade Zahl. Ich bin gr√∂√üer als 10, aber kleiner als 20. Die Summe meiner Ziffern (Quersumme) ist 3. Wer bin ich?",
                answer: "Die Zahl 12",
                explanation: "Die Zahlen zwischen 10 und 20 sind: 11, 12, 13, ..., 19. <br>Gerade sind: 12, 14, 16, 18. <br>Die Quersumme von 12 ist 1 + 2 = 3. Treffer!"
            },
            {
                day: 2,
                type: "Fakt",
                title: "Die Null ist ein Held",
                text: "Wusstest du, dass die R√∂mer keine Null kannten? Versuch mal, 2024 ohne Nullen zu schreiben, wenn du r√∂mische Zahlen nutzt (MMXXIV). Das Rechnen war damals extrem schwer!",
                answer: "Super!",
                explanation: "Die Null als Zahl wurde erst viel sp√§ter in Indien erfunden. Sie macht unser Stellenwertsystem (Einer, Zehner, Hunderter) erst m√∂glich."
            },
            {
                day: 3,
                type: "R√§tsel",
                title: "Formen-Suche",
                text: "Ich habe 4 Ecken und 4 gleich lange Seiten. Meine Winkel sind alle rechtwinklig (90 Grad). Wie hei√üe ich?",
                answer: "Das Quadrat",
                explanation: "Ein Rechteck hat auch rechte Winkel, aber nur beim Quadrat sind wirklich *alle* Seiten gleich lang."
            },
            {
                day: 4,
                type: "Tipp",
                title: "L√§ngen sch√§tzen",
                text: "Hast du kein Lineal dabei? Merk dir: Die Breite deines Daumens ist ungef√§hr 1 cm. Die Spanne von deinem Daumen bis zum kleinen Finger ist oft ca. 15-20 cm.",
                answer: "Gut zu wissen!",
                explanation: "Das nennt man 'K√∂rperma√üe'. Miss deine Handspanne zu Hause mal nach, dann hast du immer ein Ma√üband dabei!"
            },
            {
                day: 5,
                type: "R√§tsel",
                title: "H√ºhner & K√ºhe",
                text: "Auf einem Bauernhof stehen Tiere. Ein Bauer sieht 10 K√∂pfe und 28 Beine. Es sind nur H√ºhner und K√ºhe. Wie viele K√ºhe sind es?",
                answer: "4 K√ºhe (und 6 H√ºhner)",
                explanation: "4 K√ºhe haben 16 Beine. 6 H√ºhner haben 12 Beine. <br>16 + 12 = 28 Beine. <br>4 + 6 = 10 K√∂pfe."
            },
            {
                day: 6,
                type: "Spezial",
                title: "Der Nikolaus-Stern",
                text: "Der Nikolaus bringt dir Geometrie! Ein perfekter Schneestern hat meistens 6 Spitzen. Wie nennt man die Eigenschaft, wenn man ihn in der Mitte falten kann und beide H√§lften decken sich genau?",
                answer: "Achsensymmetrie",
                explanation: "Schneeflocken sind wundersch√∂ne Beispiele f√ºr Symmetrie in der Natur. Die Faltlinie nennt man Symmetrieachse."
            },
            {
                day: 7,
                type: "R√§tsel",
                title: "Die Zahlen-Reihe",
                text: "Setze die Reihe fort: 2, 4, 8, 16, ... Welche Zahl kommt als N√§chstes?",
                answer: "32",
                explanation: "Die Regel lautet: Die Zahl wird immer verdoppelt (mal 2 genommen)."
            },
            {
                day: 8,
                type: "Fakt",
                title: "360 Grad",
                text: "Ein voller Kreis hat 360 Grad. Warum eigentlich 360? Das kommt von den alten Babyloniern. 360 l√§sst sich super durch 2, 3, 4, 5 und 6 teilen!",
                answer: "Aha!",
                explanation: "Deswegen hat auch eine Stunde 60 Minuten und nicht 100. Alte Tradition!"
            },
            {
                day: 9,
                type: "Tipp",
                title: "Gro√üe Zahlen lesen",
                text: "Verlierst du bei Millionen und Milliarden den √úberblick? Tipp: Mache von hinten (von rechts) alle drei Ziffern einen kleinen Punkt.",
                answer: "Bsp: 10.000.000",
                explanation: "So siehst du sofort: Die erste Gruppe sind Einer/Hunderter, die zweite Tausender, die dritte Millionen."
            },
            {
                day: 10,
                type: "R√§tsel",
                title: "Rechen-K√∂nig",
                text: "Rechne im Kopf: Nimm die H√§lfte von 100. Addiere 10. Teile das Ergebnis durch 2. Was kommt raus?",
                answer: "30",
                explanation: "1. H√§lfte von 100 = 50. <br>2. 50 + 10 = 60. <br>3. 60 geteilt durch 2 = 30."
            },
            {
                day: 11,
                type: "Fakt",
                title: "Googol",
                text: "Wei√üt du, woher 'Google' seinen Namen hat? Von der Zahl 'Googol'. Das ist eine 1 mit 100 Nullen!",
                answer: "Riesig!",
                explanation: "Das ist mehr als die Anzahl aller Atome im bekannten Universum."
            },
            {
                day: 12,
                type: "R√§tsel",
                title: "Wie sp√§t?",
                text: "Es ist 14:00 Uhr. Der gro√üe Zeiger der Uhr dreht sich nun genau 180 Grad weiter. Wie sp√§t ist es dann?",
                answer: "14:30 Uhr",
                explanation: "Ein ganzer Kreis sind 360 Grad (60 Minuten). 180 Grad ist ein halber Kreis, also 30 Minuten."
            },
            {
                day: 13,
                type: "Tipp",
                title: "Textaufgaben knacken",
                text: "Verwirren dich Textaufgaben? Tipp: Nimm einen Textmarker. Unterstreiche NUR die Zahlen und die Frage. Alles andere ist oft nur Deko.",
                answer: "Wird gemacht!",
                explanation: "So filterst du die wichtigen Informationen (die 'gegebenen' Werte) heraus."
            },
            {
                day: 14,
                type: "R√§tsel",
                title: "R√∂mische Zahlen",
                text: "Was ergibt V + X in arabischen Ziffern?",
                answer: "15",
                explanation: "V steht f√ºr 5. X steht f√ºr 10. <br>5 + 10 = 15."
            },
            {
                day: 15,
                type: "Fakt",
                title: "W√ºrfel-Magie",
                text: "Nimm dir einen normalen Spielw√ºrfel. Addiere die Augen der gegen√ºberliegenden Seiten (oben + unten). Was kommt raus?",
                answer: "Immer 7!",
                explanation: "1+6=7, 2+5=7, 3+4=7. Das ist bei jedem Standardw√ºrfel so."
            },
            {
                day: 16,
                type: "R√§tsel",
                title: "Quadratzahlen",
                text: "Ich bin eine Quadratzahl. Ich liege zwischen 40 und 60. Man erh√§lt mich, wenn man eine Zahl mit sich selbst malnimmt.",
                answer: "49",
                explanation: "6 mal 6 ist 36 (zu klein). <br>7 mal 7 ist 49 (passt!). <br>8 mal 8 ist 64 (zu gro√ü)."
            },
            {
                day: 17,
                type: "Tipp",
                title: "Teilbarkeit durch 9",
                text: "Ist 3.456 durch 9 teilbar? Addiere einfach die Ziffern: 3+4+5+6 = 18. Ist 18 durch 9 teilbar? Ja! Dann ist es die gro√üe Zahl auch.",
                answer: "Quersummen-Regel",
                explanation: "Das funktioniert f√ºr die Teilbarkeit durch 3 und durch 9."
            },
            {
                day: 18,
                type: "R√§tsel",
                title: "Logik pur",
                text: "Ein Vater hat 3 T√∂chter. Jede Tochter hat einen Bruder. Wie viele Kinder hat der Vater insgesamt?",
                answer: "4 Kinder",
                explanation: "Die 3 T√∂chter teilen sich denselben einen Bruder."
            },
            {
                day: 19,
                type: "Fakt",
                title: "Bienen-Mathe",
                text: "Warum bauen Bienen ihre Waben immer als Sechsecke? Sechsecke brauchen am wenigsten Wachs, um am meisten Honig zu speichern.",
                answer: "Schlau!",
                explanation: "Kreise h√§tten L√ºcken dazwischen, Quadrate w√§ren instabiler. Die Natur optimiert!"
            },
            {
                day: 20,
                type: "R√§tsel",
                title: "Der Kuchen",
                text: "Du willst einen runden Kuchen mit nur 3 geraden Schnitten in 8 St√ºcke teilen. Wie geht das?",
                answer: "2x Kreuz, 1x Mitte",
                explanation: "Schneide ein Kreuz (4 St√ºcke). Dann schneide den Kuchen waagerecht in der Mitte durch (wie ein Br√∂tchen). Zack, 8 St√ºcke!"
            },
            {
                day: 21,
                type: "Tipp",
                title: "√úberschlag",
                text: "Bevor du genau rechnest, mache einen √úberschlag! <br>Aufgabe: 49 * 21. <br>Rechne im Kopf: 50 * 20 = 1000. Dein Ergebnis muss also in der N√§he von 1000 liegen.",
                answer: "Fehler vermeiden",
                explanation: "Das hilft dir, grobe Tippfehler im Taschenrechner sofort zu erkennen."
            },
            {
                day: 22,
                type: "R√§tsel",
                title: "Spiegelzahlen",
                text: "Wie nennt man Zahlen (oder W√∂rter), die vorw√§rts und r√ºckw√§rts gelesen gleich sind? Beispiel: 12321 oder 'Lagerregal'.",
                answer: "Palindrome",
                explanation: "Ein tolles Wortspiel aus der Mathematik und Deutsch."
            },
            {
                day: 23,
                type: "Fakt",
                title: "Unendlich",
                text: "Wie viele Zahlen gibt es zwischen 0 und 1? <br>Antwort: Unendlich viele!",
                answer: "Wow",
                explanation: "0,1... 0,01... 0,001... Du kannst immer noch eine kleinere Zahl finden. Die Unendlichkeit ist faszinierend."
            },
            {
                day: 24,
                type: "Finale",
                title: "Weihnachts-Rechnung",
                text: "Heute ist Heiligabend! Addiere die Anzahl der T√ºrchen (24) zur Anzahl der Tage eines Jahres (365) und ziehe das aktuelle Jahr (2025) ab. Wenn du -1636 herausbekommst, hast du richtig gerechnet! Frohe Weihnachten!",
                answer: "Frohes Fest!",
                explanation: "Mathe ist √ºberall. Genie√üe die Ferien und deine Geschenke!"
            }
        ];

        // --- TEIL 2: DIE LOGIK ---

        const grid = document.getElementById('calendar-grid');
        const modal = document.getElementById('riddle-modal');
        const closeBtn = document.querySelector('.close-btn');
        const revealBtn = document.getElementById('reveal-btn');
        const modalResult = document.getElementById('modal-result');

        // Datum pr√ºfen
        const now = new Date();
        const currentDay = now.getDate();
        const currentMonth = now.getMonth() + 1; // JS Monate sind 0-basiert

        // WICHTIG: Test-Modus
        // Setze testMode auf true, um alle T√ºrchen sofort √∂ffnen zu k√∂nnen (zum Testen).
        // Setze es auf false, damit der Kalender "echt" funktioniert (nur ab 1. Dez).
        const testMode = false; 

        calendarData.forEach(item => {
            const door = document.createElement('div');
            door.classList.add('advent-door');
            door.textContent = item.day;
            
            // Standardm√§√üig gesperrt
            let isLocked = true;

            // Logik: √ñffnen, wenn Dezember ist UND der Tag erreicht wurde
            if (currentMonth === 12 && item.day <= currentDay) {
                isLocked = false;
            }

            // Wenn Testmodus an ist, alles entsperren
            if (testMode) {
                isLocked = false;
            }

            if (isLocked) {
                door.classList.add('locked');
                // Optional: Klick-Event f√ºr gesperrte T√ºren (Wackeln oder Hinweis)
                door.onclick = () => {
                    door.style.transform = "translateX(5px)";
                    setTimeout(() => door.style.transform = "translateX(0)", 100);
                    setTimeout(() => door.style.transform = "translateX(-5px)", 200);
                    setTimeout(() => door.style.transform = "translateX(0)", 300);
                };
            } else {
                door.classList.add('active');
                door.onclick = () => openDoor(item);
            }

            grid.appendChild(door);
        });

        function openDoor(data) {
            // Modal mit Daten f√ºllen
            document.getElementById('modal-title').innerText = `Tag ${data.day}: ${data.title}`;
            document.getElementById('modal-text').innerHTML = data.text;
            document.getElementById('modal-answer').innerText = data.answer;
            document.getElementById('modal-explanation').innerHTML = data.explanation;
            
            // Bilder zur√ºcksetzen
            const imgEl = document.getElementById('modal-img');
            imgEl.src = "";
            imgEl.style.display = 'none';

            // Bild Logik (optional, falls Bilder im Array erg√§nzt werden)
            if (data.image) {
                imgEl.src = data.image;
                imgEl.style.display = 'block';
            }

            // Buttons zur√ºcksetzen
            modalResult.style.display = 'none';
            revealBtn.style.display = 'inline-block';
            
            // Modal anzeigen
            modal.style.display = 'flex';
        }

        // Button: L√∂sung anzeigen
        revealBtn.onclick = () => {
            modalResult.style.display = 'block';
            revealBtn.style.display = 'none'; // Button verstecken nach Klick
        };

        // Schlie√üen √ºber X
        closeBtn.onclick = () => {
            modal.style.display = 'none';
        };

        // Schlie√üen durch Klick neben das Fenster
        window.onclick = (event) => {
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        };
    </script>
</body>
</html>
